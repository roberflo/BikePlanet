2019-02-17 15:23:00.008 -06:00 [INF] Starting web host
2019-02-17 15:23:01.679 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:23:02.985 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Users  
2019-02-17 15:23:03.109 -06:00 [INF] Executing endpoint 'GFStore.Controllers.UsersController.Get (GFStore)'
2019-02-17 15:23:03.130 -06:00 [INF] Route matched with {action = "Get", controller = "Users"}. Executing action GFStore.Controllers.UsersController.Get (GFStore)
2019-02-17 15:23:03.368 -06:00 [INF] Executing action method GFStore.Controllers.UsersController.Get (GFStore) - Validation state: "Valid"
2019-02-17 15:23:03.571 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 15:23:05.196 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[FirstName], [u].[LastName], [u].[PasswordHash], [u].[PasswordSalt], [u].[Role], [u].[Username]
FROM [Users] AS [u]
2019-02-17 15:23:05.241 -06:00 [INF] Executed action method GFStore.Controllers.UsersController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1863.6940000000002ms.
2019-02-17 15:23:05.254 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFStore.ApplicationLayer.Dto.UserDto, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 15:23:05.326 -06:00 [INF] Executed action GFStore.Controllers.UsersController.Get (GFStore) in 2190.9476ms
2019-02-17 15:23:05.329 -06:00 [INF] Executed endpoint 'GFStore.Controllers.UsersController.Get (GFStore)'
2019-02-17 15:23:05.335 -06:00 [INF] Request finished in 2352.0684ms 200 application/json; charset=utf-8
2019-02-17 15:23:13.759 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/MoveInventory application/json 100
2019-02-17 15:23:13.782 -06:00 [INF] Successfully validated the token.
2019-02-17 15:23:13.787 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 15:23:14.093 -06:00 [INF] Executed DbCommand (268ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 15:23:14.106 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.RegisterProductMove (GFStore)'
2019-02-17 15:23:14.122 -06:00 [INF] Route matched with {action = "RegisterProductMove", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.RegisterProductMove (GFStore)
2019-02-17 15:23:14.136 -06:00 [INF] Authorization was successful.
2019-02-17 15:23:14.172 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.RegisterProductMove (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.InventoryMoveRequest","1"]) - Validation state: "Valid"
2019-02-17 15:23:16.895 -06:00 [INF] Executed DbCommand (239ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ProductId], [e].[Category], [e].[Likes], [e].[Name], [e].[Price]
FROM [Products] AS [e]
WHERE [e].[ProductId] = @__get_Item_0
2019-02-17 15:23:17.467 -06:00 [INF] Executed DbCommand (242ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Inventory] ([Entry], [Exit], [MovementReference], [ProductId], [Quantity], [UnitCost])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [InventoryId]
FROM [Inventory]
WHERE @@ROWCOUNT = 1 AND [InventoryId] = scope_identity();
2019-02-17 15:23:17.740 -06:00 [INF] The ADMIN id: 2 InventoryMove for product 1 with MovementReference ProviderBILL for Entry of 1
2019-02-17 15:23:17.743 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.RegisterProductMove (GFStore), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 3563.4056ms.
2019-02-17 15:23:17.750 -06:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2019-02-17 15:23:17.752 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.RegisterProductMove (GFStore) in 3626.7236000000003ms
2019-02-17 15:23:17.753 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.RegisterProductMove (GFStore)'
2019-02-17 15:23:17.755 -06:00 [INF] Request finished in 3996.2639ms 204 
2019-02-17 15:47:02.388 -06:00 [INF] Starting web host
2019-02-17 15:47:03.677 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:47:04.578 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/  
2019-02-17 15:47:04.689 -06:00 [INF] Request finished in 112.9148ms 404 
2019-02-17 15:47:16.026 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Products?Sort_by=Likes&Order_by=DES  
2019-02-17 15:47:16.036 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 15:47:16.063 -06:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.Get (GFStore)
2019-02-17 15:47:16.220 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.Get (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Base.ProductParamsDto"]) - Validation state: "Valid"
2019-02-17 15:47:16.393 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 15:47:18.695 -06:00 [INF] Executed DbCommand (713ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order].[ProductId], [order].[Category], [order].[FeaturedImage], [order].[Likes], [order].[Name], [order].[Price]
FROM [Products] AS [order]
ORDER BY (SELECT 1) DESC, [order].[ProductId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-02-17 15:47:18.976 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[@__productParams_Sort_by_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order.Inventory].[InventoryId], [order.Inventory].[Entry], [order.Inventory].[Exit], [order.Inventory].[MovementReference], [order.Inventory].[ProductId], [order.Inventory].[Quantity], [order.Inventory].[UnitCost]
FROM [Inventory] AS [order.Inventory]
INNER JOIN (
    SELECT [order0].[ProductId], @__productParams_Sort_by_0 AS [c]
    FROM [Products] AS [order0]
    ORDER BY [c] DESC, [order0].[ProductId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [order.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[c] DESC, [t].[ProductId]
2019-02-17 15:47:19.023 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2791.9751ms.
2019-02-17 15:47:19.029 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFShop.ApplicationLayer.Dto.Response.Products.FullProductResponse, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 15:47:19.079 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.Get (GFStore) in 3014.6273ms
2019-02-17 15:47:19.080 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 15:47:19.081 -06:00 [INF] Request finished in 3055.1515ms 200 application/json; charset=utf-8
2019-02-17 15:49:34.663 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products application/json 223
2019-02-17 15:49:34.685 -06:00 [INF] Successfully validated the token.
2019-02-17 15:49:34.687 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 15:49:34.941 -06:00 [INF] Executed DbCommand (241ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 15:49:34.949 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.CreateProduct (GFStore)'
2019-02-17 15:49:34.953 -06:00 [INF] Route matched with {action = "CreateProduct", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.CreateProduct (GFStore)
2019-02-17 15:49:34.960 -06:00 [INF] Authorization was successful.
2019-02-17 15:49:34.977 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.CreateProduct (GFStore) with arguments (["GFStore.ApplicationLayer.Dto.ProductDto"]) - Validation state: "Valid"
2019-02-17 15:49:35.541 -06:00 [INF] Executed DbCommand (244ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Category], [FeaturedImage], [Likes], [Name], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [ProductId]
FROM [Products]
WHERE @@ROWCOUNT = 1 AND [ProductId] = scope_identity();
2019-02-17 15:49:35.810 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.CreateProduct (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 832.7129ms.
2019-02-17 15:49:35.810 -06:00 [INF] Executing ObjectResult, writing value of type 'GFStore.ApplicationLayer.Dto.ProductDto'.
2019-02-17 15:49:35.812 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.CreateProduct (GFStore) in 859.1195ms
2019-02-17 15:49:35.812 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.CreateProduct (GFStore)'
2019-02-17 15:49:35.813 -06:00 [INF] Request finished in 1150.0504ms 200 application/json; charset=utf-8
2019-02-17 15:50:47.096 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 15:50:47.147 -06:00 [INF] Request finished in 52.0689ms 200 text/html
2019-02-17 15:50:49.229 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 15:50:49.332 -06:00 [INF] Request finished in 103.1252ms 200 application/json;charset=utf-8
2019-02-17 15:53:51.523 -06:00 [INF] Starting web host
2019-02-17 15:53:52.596 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:53:53.448 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/  
2019-02-17 15:53:53.575 -06:00 [INF] Request finished in 128.1453ms 404 
2019-02-17 15:54:25.463 -06:00 [INF] Starting web host
2019-02-17 15:54:26.504 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:54:27.371 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/  
2019-02-17 15:54:27.488 -06:00 [INF] Request finished in 118.5398ms 404 
2019-02-17 15:54:51.346 -06:00 [INF] Starting web host
2019-02-17 15:54:52.382 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:54:52.668 -06:00 [FTL] Unable to start Kestrel.
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-02-17 15:54:52.712 -06:00 [FTL] Host terminated unexpectedly
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.StartAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token, String shutdownMessage)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.Run(IWebHost host)
   at GFStore.Program.Main(String[] args) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\Program.cs:line 35
2019-02-17 15:55:05.627 -06:00 [INF] Starting web host
2019-02-17 15:55:06.727 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:55:07.045 -06:00 [FTL] Unable to start Kestrel.
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-02-17 15:55:07.090 -06:00 [FTL] Host terminated unexpectedly
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.StartAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token, String shutdownMessage)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.Run(IWebHost host)
   at GFStore.Program.Main(String[] args) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\Program.cs:line 35
2019-02-17 15:55:39.676 -06:00 [INF] Starting web host
2019-02-17 15:55:40.803 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:55:41.120 -06:00 [FTL] Unable to start Kestrel.
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-02-17 15:55:41.164 -06:00 [FTL] Host terminated unexpectedly
System.InvalidOperationException: A path base can only be configured using IApplicationBuilder.UsePathBase().
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.ParseAddress(String address, Boolean& https)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.StartAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token, String shutdownMessage)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.Run(IWebHost host)
   at GFStore.Program.Main(String[] args) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\Program.cs:line 35
2019-02-17 15:58:36.744 -06:00 [INF] Starting web host
2019-02-17 15:58:38.105 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 15:58:39.453 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 15:58:39.657 -06:00 [INF] Request finished in 207.883ms 200 text/html
2019-02-17 15:58:40.218 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 15:58:40.385 -06:00 [INF] Request finished in 166.6948ms 200 application/json;charset=utf-8
2019-02-17 15:59:27.446 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 15:59:27.449 -06:00 [INF] Request finished in 2.9341ms 200 text/html
2019-02-17 15:59:27.891 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 15:59:27.894 -06:00 [INF] Request finished in 2.8349ms 200 application/json;charset=utf-8
2019-02-17 16:00:08.711 -06:00 [INF] Starting web host
2019-02-17 16:00:10.089 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:00:11.269 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 16:00:11.458 -06:00 [INF] Request finished in 192.6131ms 200 text/html
2019-02-17 16:00:11.901 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 16:00:12.040 -06:00 [INF] Request finished in 139.0906ms 200 application/json;charset=utf-8
2019-02-17 16:37:37.459 -06:00 [INF] Starting web host
2019-02-17 16:37:38.729 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:37:39.568 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/  
2019-02-17 16:37:39.682 -06:00 [INF] Request finished in 115.6633ms 404 
2019-02-17 16:48:13.204 -06:00 [INF] Starting web host
2019-02-17 16:48:14.611 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:48:15.685 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 16:48:15.862 -06:00 [INF] Request finished in 179.5039ms 200 text/html
2019-02-17 16:48:16.353 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 16:48:16.492 -06:00 [INF] Request finished in 139.2754ms 200 application/json;charset=utf-8
2019-02-17 16:48:23.910 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 79
2019-02-17 16:48:23.968 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:48:23.996 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:48:24.011 -06:00 [INF] Authorization failed.
2019-02-17 16:48:24.016 -06:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-02-17 16:48:24.028 -06:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-02-17 16:48:24.045 -06:00 [INF] AuthenticationScheme: Bearer was challenged.
2019-02-17 16:48:24.049 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.BuyProduc (GFStore) in 48.1895ms
2019-02-17 16:48:24.057 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:48:24.069 -06:00 [INF] Request finished in 159.3587ms 401 
2019-02-17 16:48:24.078 -06:00 [INF] Connection id "0HLKL580AVH9H", Request id "0HLKL580AVH9H:00000001": the application completed without reading the entire request body.
2019-02-17 16:48:38.937 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 79
2019-02-17 16:48:38.962 -06:00 [INF] Successfully validated the token.
2019-02-17 16:48:39.342 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:48:41.233 -06:00 [INF] Executed DbCommand (244ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:48:41.284 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:48:41.285 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:48:41.289 -06:00 [INF] Authorization was successful.
2019-02-17 16:48:41.317 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:48:41.578 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ProductId], [e].[Category], [e].[FeaturedImage], [e].[Likes], [e].[Name], [e].[Price]
FROM [Products] AS [e]
WHERE [e].[ProductId] = @__get_Item_0
2019-02-17 16:49:06.492 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.BuyProduc (GFStore) in 25204.059400000002ms
2019-02-17 16:49:06.514 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:49:06.518 -06:00 [ERR] Connection id "0HLKL580AVH9H", Request id "0HLKL580AVH9H:00000002": An unhandled exception was thrown by the application.
System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.Enumerable.Sum[TSource](IEnumerable`1 source, Func`2 selector)
   at GFShop.DataAccessLayer.Entities.Product.get_Stock() in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\DataAccessLayer\Entities\Product.cs:line 25
   at GFStore.BusinessLogicLayer.ProductBol.BuyProduct(BuyProductRequest inventoryMove, Int32 ProductId) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\BusinessLogicLayer\ProductBol.cs:line 117
   at GFStore.Controllers.ProductsController.BuyProduc(BuyProductRequest inventoryMove, Int32 id) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\ApplicationLayer\ProductsController.cs:line 145
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-02-17 16:49:06.604 -06:00 [INF] Request finished in 27666.9331ms 500 
2019-02-17 16:49:27.739 -06:00 [INF] Starting web host
2019-02-17 16:49:29.074 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:49:30.246 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 16:49:30.415 -06:00 [INF] Request finished in 170.9541ms 200 text/html
2019-02-17 16:49:30.922 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 16:49:31.060 -06:00 [INF] Request finished in 138.8914ms 200 application/json;charset=utf-8
2019-02-17 16:49:34.578 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 79
2019-02-17 16:49:34.600 -06:00 [INF] Successfully validated the token.
2019-02-17 16:49:34.965 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:49:36.626 -06:00 [INF] Executed DbCommand (246ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:49:36.732 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:49:36.771 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:49:36.782 -06:00 [INF] Authorization was successful.
2019-02-17 16:49:36.820 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:49:37.080 -06:00 [INF] Executed DbCommand (242ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ProductId], [e].[Category], [e].[FeaturedImage], [e].[Likes], [e].[Name], [e].[Price]
FROM [Products] AS [e]
WHERE [e].[ProductId] = @__get_Item_0
2019-02-17 16:50:09.710 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.BuyProduc (GFStore) in 32934.461800000005ms
2019-02-17 16:50:09.718 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:50:09.726 -06:00 [ERR] Connection id "0HLKL58MHNGC2", Request id "0HLKL58MHNGC2:00000001": An unhandled exception was thrown by the application.
System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.Enumerable.Sum[TSource](IEnumerable`1 source, Func`2 selector)
   at GFShop.DataAccessLayer.Entities.Product.get_Stock() in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\DataAccessLayer\Entities\Product.cs:line 25
   at GFStore.BusinessLogicLayer.ProductBol.BuyProduct(BuyProductRequest inventoryMove, Int32 ProductId) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\BusinessLogicLayer\ProductBol.cs:line 117
   at GFStore.Controllers.ProductsController.BuyProduc(BuyProductRequest inventoryMove, Int32 id) in C:\Users\OMEN\Documents\Proyectos\dotnet\ApplaudoShop\GFShop\ApplicationLayer\ProductsController.cs:line 145
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-02-17 16:50:09.805 -06:00 [INF] Request finished in 35226.4142ms 500 
2019-02-17 16:50:17.926 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 79
2019-02-17 16:50:17.928 -06:00 [INF] Successfully validated the token.
2019-02-17 16:50:17.931 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:50:18.190 -06:00 [INF] Executed DbCommand (243ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:50:18.195 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:50:18.196 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:50:18.198 -06:00 [INF] Authorization was successful.
2019-02-17 16:50:18.203 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:50:38.060 -06:00 [INF] Executed DbCommand (251ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[ProductId], [e].[Category], [e].[FeaturedImage], [e].[Likes], [e].[Name], [e].[Price]
FROM [Products] AS [e]
WHERE [e].[ProductId] = @__get_Item_0
2019-02-17 16:52:41.203 -06:00 [INF] Starting web host
2019-02-17 16:52:42.458 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:52:43.698 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 16:52:43.889 -06:00 [INF] Request finished in 194.268ms 200 text/html
2019-02-17 16:52:44.374 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 16:52:44.517 -06:00 [INF] Request finished in 143.7489ms 200 application/json;charset=utf-8
2019-02-17 16:52:47.877 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 79
2019-02-17 16:52:47.907 -06:00 [INF] Successfully validated the token.
2019-02-17 16:52:48.339 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:52:50.049 -06:00 [INF] Executed DbCommand (284ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:52:50.139 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:52:50.164 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:52:50.177 -06:00 [INF] Authorization was successful.
2019-02-17 16:52:50.272 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:53:04.065 -06:00 [INF] Executed DbCommand (244ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [inv].[ProductId], [inv].[Category], [inv].[FeaturedImage], [inv].[Likes], [inv].[Name], [inv].[Price]
FROM [Products] AS [inv]
WHERE [inv].[ProductId] = @__id_0
ORDER BY [inv].[ProductId]
2019-02-17 16:53:04.332 -06:00 [INF] Executed DbCommand (247ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [inv.Inventory].[InventoryId], [inv.Inventory].[Entry], [inv.Inventory].[Exit], [inv.Inventory].[MovementReference], [inv.Inventory].[ProductId], [inv.Inventory].[Quantity], [inv.Inventory].[UnitCost]
FROM [Inventory] AS [inv.Inventory]
INNER JOIN (
    SELECT TOP(1) [inv0].[ProductId]
    FROM [Products] AS [inv0]
    WHERE [inv0].[ProductId] = @__id_0
    ORDER BY [inv0].[ProductId]
) AS [t] ON [inv.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[ProductId]
2019-02-17 16:53:30.596 -06:00 [INF] Executed DbCommand (248ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Inventory] ([Entry], [Exit], [MovementReference], [ProductId], [Quantity], [UnitCost])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [InventoryId]
FROM [Inventory]
WHERE @@ROWCOUNT = 1 AND [InventoryId] = scope_identity();
2019-02-17 16:53:43.419 -06:00 [INF] PurchaseDate "2019-02-17T16:53:43.3581552-06:00": The user id: 2 Buy product 1 with MovementReference BuyWith:CreditCard:45254125411 to buy:  2 
2019-02-17 16:53:53.023 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.BuyProduc (GFStore), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 62740.962900000006ms.
2019-02-17 16:53:53.034 -06:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2019-02-17 16:53:53.040 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.BuyProduc (GFStore) in 62870.086ms
2019-02-17 16:53:53.105 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:53:53.109 -06:00 [INF] Request finished in 65231.8733ms 204 
2019-02-17 16:54:48.953 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Products?Sort_by=Likes&Order_by=DES  
2019-02-17 16:54:48.955 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:54:48.963 -06:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.Get (GFStore)
2019-02-17 16:54:48.979 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.Get (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Base.ProductParamsDto"]) - Validation state: "Valid"
2019-02-17 16:54:48.991 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:54:49.266 -06:00 [INF] Executed DbCommand (242ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order].[ProductId], [order].[Category], [order].[FeaturedImage], [order].[Likes], [order].[Name], [order].[Price]
FROM [Products] AS [order]
ORDER BY (SELECT 1) DESC, [order].[ProductId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-02-17 16:54:49.529 -06:00 [INF] Executed DbCommand (249ms) [Parameters=[@__productParams_Sort_by_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order.Inventory].[InventoryId], [order.Inventory].[Entry], [order.Inventory].[Exit], [order.Inventory].[MovementReference], [order.Inventory].[ProductId], [order.Inventory].[Quantity], [order.Inventory].[UnitCost]
FROM [Inventory] AS [order.Inventory]
INNER JOIN (
    SELECT [order0].[ProductId], @__productParams_Sort_by_0 AS [c]
    FROM [Products] AS [order0]
    ORDER BY [c] DESC, [order0].[ProductId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [order.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[c] DESC, [t].[ProductId]
2019-02-17 16:54:49.566 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 581.44270000000006ms.
2019-02-17 16:54:49.572 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFShop.ApplicationLayer.Dto.Response.Products.FullProductResponse, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 16:54:49.581 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.Get (GFStore) in 614.8659ms
2019-02-17 16:54:49.583 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:54:49.585 -06:00 [INF] Request finished in 632.1116ms 200 application/json; charset=utf-8
2019-02-17 16:55:09.594 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 80
2019-02-17 16:55:09.597 -06:00 [INF] Successfully validated the token.
2019-02-17 16:55:09.598 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:55:09.845 -06:00 [INF] Executed DbCommand (243ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:55:09.867 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:55:09.871 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:55:09.874 -06:00 [INF] Authorization was successful.
2019-02-17 16:55:09.876 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:55:17.138 -06:00 [INF] Executed DbCommand (242ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [inv].[ProductId], [inv].[Category], [inv].[FeaturedImage], [inv].[Likes], [inv].[Name], [inv].[Price]
FROM [Products] AS [inv]
WHERE [inv].[ProductId] = @__id_0
ORDER BY [inv].[ProductId]
2019-02-17 16:55:17.388 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [inv.Inventory].[InventoryId], [inv.Inventory].[Entry], [inv.Inventory].[Exit], [inv.Inventory].[MovementReference], [inv.Inventory].[ProductId], [inv.Inventory].[Quantity], [inv.Inventory].[UnitCost]
FROM [Inventory] AS [inv.Inventory]
INNER JOIN (
    SELECT TOP(1) [inv0].[ProductId]
    FROM [Products] AS [inv0]
    WHERE [inv0].[ProductId] = @__id_0
    ORDER BY [inv0].[ProductId]
) AS [t] ON [inv.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[ProductId]
2019-02-17 16:56:35.464 -06:00 [INF] Starting web host
2019-02-17 16:56:36.995 -06:00 [INF] User profile is available. Using 'C:\Users\OMEN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-02-17 16:56:38.437 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html  
2019-02-17 16:56:38.623 -06:00 [INF] Request finished in 191.6555ms 200 text/html
2019-02-17 16:56:39.092 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json  
2019-02-17 16:56:39.229 -06:00 [INF] Request finished in 136.7749ms 200 application/json;charset=utf-8
2019-02-17 16:56:42.375 -06:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Products/1/Buy application/json 80
2019-02-17 16:56:42.405 -06:00 [INF] Successfully validated the token.
2019-02-17 16:56:42.816 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:56:44.716 -06:00 [INF] Executed DbCommand (244ms) [Parameters=[@__get_Item_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[UserId], [e].[FirstName], [e].[LastName], [e].[PasswordHash], [e].[PasswordSalt], [e].[Role], [e].[Username]
FROM [Users] AS [e]
WHERE [e].[UserId] = @__get_Item_0
2019-02-17 16:56:44.800 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:56:44.829 -06:00 [INF] Route matched with {action = "BuyProduc", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.BuyProduc (GFStore)
2019-02-17 16:56:44.839 -06:00 [INF] Authorization was successful.
2019-02-17 16:56:44.875 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.BuyProduc (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Request.Products.BuyProductRequest","1"]) - Validation state: "Valid"
2019-02-17 16:56:47.497 -06:00 [INF] Executed DbCommand (243ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [inv].[ProductId], [inv].[Category], [inv].[FeaturedImage], [inv].[Likes], [inv].[Name], [inv].[Price]
FROM [Products] AS [inv]
WHERE [inv].[ProductId] = @__id_0
ORDER BY [inv].[ProductId]
2019-02-17 16:56:47.763 -06:00 [INF] Executed DbCommand (242ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [inv.Inventory].[InventoryId], [inv.Inventory].[Entry], [inv.Inventory].[Exit], [inv.Inventory].[MovementReference], [inv.Inventory].[ProductId], [inv.Inventory].[Quantity], [inv.Inventory].[UnitCost]
FROM [Inventory] AS [inv.Inventory]
INNER JOIN (
    SELECT TOP(1) [inv0].[ProductId]
    FROM [Products] AS [inv0]
    WHERE [inv0].[ProductId] = @__id_0
    ORDER BY [inv0].[ProductId]
) AS [t] ON [inv.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[ProductId]
2019-02-17 16:56:48.319 -06:00 [INF] Executed DbCommand (241ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Inventory] ([Entry], [Exit], [MovementReference], [ProductId], [Quantity], [UnitCost])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [InventoryId]
FROM [Inventory]
WHERE @@ROWCOUNT = 1 AND [InventoryId] = scope_identity();
2019-02-17 16:56:48.607 -06:00 [INF] PurchaseDate "2019-02-17T16:56:48.6068972-06:00": The user id: 2 Buy product 1 with MovementReference BuyWith:CreditCard:45254125411 to buy:  10 
2019-02-17 16:56:48.614 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.BuyProduc (GFStore), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 3724.5903000000003ms.
2019-02-17 16:56:48.624 -06:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2019-02-17 16:56:48.628 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.BuyProduc (GFStore) in 3795.52ms
2019-02-17 16:56:48.630 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.BuyProduc (GFStore)'
2019-02-17 16:56:48.633 -06:00 [INF] Request finished in 6258.3018ms 204 
2019-02-17 16:56:58.887 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Products?Sort_by=Likes&Order_by=DES  
2019-02-17 16:56:58.890 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:56:58.894 -06:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.Get (GFStore)
2019-02-17 16:56:58.905 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.Get (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Base.ProductParamsDto"]) - Validation state: "Valid"
2019-02-17 16:56:58.914 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:56:59.185 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order].[ProductId], [order].[Category], [order].[FeaturedImage], [order].[Likes], [order].[Name], [order].[Price]
FROM [Products] AS [order]
ORDER BY (SELECT 1) DESC, [order].[ProductId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2019-02-17 16:56:59.444 -06:00 [INF] Executed DbCommand (251ms) [Parameters=[@__productParams_Sort_by_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order.Inventory].[InventoryId], [order.Inventory].[Entry], [order.Inventory].[Exit], [order.Inventory].[MovementReference], [order.Inventory].[ProductId], [order.Inventory].[Quantity], [order.Inventory].[UnitCost]
FROM [Inventory] AS [order.Inventory]
INNER JOIN (
    SELECT [order0].[ProductId], @__productParams_Sort_by_0 AS [c]
    FROM [Products] AS [order0]
    ORDER BY [c] DESC, [order0].[ProductId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [order.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[c] DESC, [t].[ProductId]
2019-02-17 16:56:59.479 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 569.7214ms.
2019-02-17 16:56:59.486 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFShop.ApplicationLayer.Dto.Response.Products.FullProductResponse, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 16:56:59.495 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.Get (GFStore) in 595.8228ms
2019-02-17 16:56:59.498 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:56:59.500 -06:00 [INF] Request finished in 612.4525ms 200 application/json; charset=utf-8
2019-02-17 16:59:30.704 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Products?Sort_by=Likes&Order_by=DES&Skip=1&Take=1  
2019-02-17 16:59:30.706 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:59:30.707 -06:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.Get (GFStore)
2019-02-17 16:59:30.710 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.Get (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Base.ProductParamsDto"]) - Validation state: "Valid"
2019-02-17 16:59:30.712 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:59:30.975 -06:00 [INF] Executed DbCommand (245ms) [Parameters=[@__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order].[ProductId], [order].[Category], [order].[FeaturedImage], [order].[Likes], [order].[Name], [order].[Price]
FROM [Products] AS [order]
ORDER BY (SELECT 1) DESC, [order].[ProductId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
2019-02-17 16:59:31.237 -06:00 [INF] Executed DbCommand (252ms) [Parameters=[@__productParams_Sort_by_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order.Inventory].[InventoryId], [order.Inventory].[Entry], [order.Inventory].[Exit], [order.Inventory].[MovementReference], [order.Inventory].[ProductId], [order.Inventory].[Quantity], [order.Inventory].[UnitCost]
FROM [Inventory] AS [order.Inventory]
INNER JOIN (
    SELECT [order0].[ProductId], @__productParams_Sort_by_0 AS [c]
    FROM [Products] AS [order0]
    ORDER BY [c] DESC, [order0].[ProductId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [order.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[c] DESC, [t].[ProductId]
2019-02-17 16:59:31.242 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 530.4652ms.
2019-02-17 16:59:31.244 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFShop.ApplicationLayer.Dto.Response.Products.FullProductResponse, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 16:59:31.246 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.Get (GFStore) in 537.8046ms
2019-02-17 16:59:31.249 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:59:31.250 -06:00 [INF] Request finished in 546.8309ms 200 application/json; charset=utf-8
2019-02-17 16:59:59.101 -06:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Products?Sort_by=Likes&Order_by=DES&Skip=1&Take=1  
2019-02-17 16:59:59.104 -06:00 [INF] Executing endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:59:59.105 -06:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing action GFStore.Controllers.ProductsController.Get (GFStore)
2019-02-17 16:59:59.107 -06:00 [INF] Executing action method GFStore.Controllers.ProductsController.Get (GFStore) with arguments (["GFShop.ApplicationLayer.Dto.Base.ProductParamsDto"]) - Validation state: "Valid"
2019-02-17 16:59:59.109 -06:00 [INF] Entity Framework Core 2.2.2-servicing-10034 initialized 'GFStoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-02-17 16:59:59.354 -06:00 [INF] Executed DbCommand (243ms) [Parameters=[@__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order].[ProductId], [order].[Category], [order].[FeaturedImage], [order].[Likes], [order].[Name], [order].[Price]
FROM [Products] AS [order]
ORDER BY (SELECT 1) DESC, [order].[ProductId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
2019-02-17 16:59:59.601 -06:00 [INF] Executed DbCommand (243ms) [Parameters=[@__productParams_Sort_by_0='?' (Size = 4000), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [order.Inventory].[InventoryId], [order.Inventory].[Entry], [order.Inventory].[Exit], [order.Inventory].[MovementReference], [order.Inventory].[ProductId], [order.Inventory].[Quantity], [order.Inventory].[UnitCost]
FROM [Inventory] AS [order.Inventory]
INNER JOIN (
    SELECT [order0].[ProductId], @__productParams_Sort_by_0 AS [c]
    FROM [Products] AS [order0]
    ORDER BY [c] DESC, [order0].[ProductId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [order.Inventory].[ProductId] = [t].[ProductId]
ORDER BY [t].[c] DESC, [t].[ProductId]
2019-02-17 16:59:59.608 -06:00 [INF] Executed action method GFStore.Controllers.ProductsController.Get (GFStore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 499.97900000000004ms.
2019-02-17 16:59:59.610 -06:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[GFShop.ApplicationLayer.Dto.Response.Products.FullProductResponse, GFStore, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-02-17 16:59:59.613 -06:00 [INF] Executed action GFStore.Controllers.ProductsController.Get (GFStore) in 506.2692ms
2019-02-17 16:59:59.614 -06:00 [INF] Executed endpoint 'GFStore.Controllers.ProductsController.Get (GFStore)'
2019-02-17 16:59:59.616 -06:00 [INF] Request finished in 514.6588ms 200 application/json; charset=utf-8
